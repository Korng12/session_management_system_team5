<div th:replace="~{layout/main :: layout(~{::section})}">
<section class="container mt-5">

    <h1 class="mb-4">My Chaired Sessions</h1>

    <div class="row g-4">
             <form th:action="@{/chair/sessions}" method="get" class="row g-2 mb-3">
                <div class="col-md-4">
                    <input type="text" name="title" class="form-control" placeholder="Search conference by title..."
                        th:value="${title}">
                </div>

                <div class="col-md-2">
                    <button type="submit" class="btn btn-primary w-100">
                        <i class="bi bi-search"></i> Search
                    </button>
                </div>

                <div class="col-md-2">
                    <a th:href="@{/chair/sessions}" class="btn btn-danger w-100">
                        Reset
                    </a>
                </div>
            </form>

        <div class="col-md-6"
             th:each="s : ${sessions}">

            <div class="card shadow-sm h-100">

                <div class="card-body">

                    <h5 class="fw-bold" th:text="${s.title}">
                        Session Title
                    </h5>

                    <p class="text-muted mb-1">
                        <strong>Time:</strong>
                        <span th:text="${#temporals.format(s.startTime, 'dd MMM yyyy HH:mm')}"></span>
                        â€“
                        <span th:text="${#temporals.format(s.endTime, 'HH:mm')}"></span>
                    </p>

                    <span class="badge"
                          th:classappend="${ 
                              s.status == T(com.team5.demo.entities.SessionStatus).SCHEDULED ? ' bg-secondary' :
                              s.status == T(com.team5.demo.entities.SessionStatus).ONGOING   ? ' bg-info' :
                                                                                               ' bg-success'
                          }"
                          th:text="${s.status.displayName}">
                    </span>
                </div>

                <div class="card-footer bg-transparent border-0">
                    <a th:if="${s.status == T(com.team5.demo.entities.SessionStatus).ONGOING}"
                       th:href="@{/chair/sessions/{id}/attendance(id=${s.id})}"
                       class="btn btn-sm btn-primary w-100">
                        Manage Attendance
                    </a>
                    <button th:if="${s.status != T(com.team5.demo.entities.SessionStatus).ONGOING}"
                            class="btn btn-sm btn-secondary w-100" disabled>
                        Manage Attendance
                    </button>
                </div>

            </div>
        </div>

        <div class="col-12 text-center"
             th:if="${#lists.isEmpty(sessions)}">
            <p class="text-muted">
                You are not chairing any sessions.
            </p>
        </div>

    </div>

</section>
</div>
